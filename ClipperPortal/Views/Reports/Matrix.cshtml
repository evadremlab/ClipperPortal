@using GridMvc.Html
@model IEnumerable<ClipperPortal.Models.ReportMatrix>

@{
    ViewBag.Title = "Reports - Matrix";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Reports</h2>

<p>
    @Html.ActionLink("Matrix", "Matrix", null, new { @class = "btn btn-primary" })
    @Html.ActionLink("Audit Records", "Audit", null, new { @class = "btn btn-default" })
</p>

@Html.Grid(Model).Named("reportMatrixGrid").Columns(columns =>
{
    columns.Add(x => x.CalendarYear).Titled("Calendar Year").Sortable(true).Filterable(true).SetFilterWidgetType("CalendarYearFilterWidget");
    columns.Add(x => x.Agency).Titled("Operator").Sortable(true).Filterable(true).SetFilterWidgetType("AgencyFilterWidget");
    columns.Add(x => x.RecordStatus).Titled("Record Status").Sortable(true).Filterable(true).SetFilterWidgetType("RecordStatusFilterWidget");
    columns.Add(x => x.NewVehicles).Titled("New Vehicles").SetWidth("4rem");
    columns.Add(x => x.ReplacementVehicles).Titled("Replacement Vehicles").SetWidth("4rem");
    columns.Add(x => x.ExpansionVehicles).Titled("Expansion Vehicles").SetWidth("4rem");
}).WithPaging(15)

@section Scripts {
    <script type="text/javascript">
        $(function () {
            pageGrids.reportMatrixGrid.addFilterWidget(new AgencyFilterWidget());
            pageGrids.reportMatrixGrid.addFilterWidget(new CalendarYearFilterWidget());
            pageGrids.reportMatrixGrid.addFilterWidget(new RecordStatusFilterWidget());
        });
    </script>
}
